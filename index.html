<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ngô nhật trường</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;1,300;1,400&display=swap" rel="stylesheet">
</head>
<body>

    <div id="intro-screen">
        <img src="assets/home/logo.png" alt="Ngô Nhật Trường Logo">
    </div>

    <div class="wrapper">
        <header class="header">
            <div class="brand">
                <div class="brand-logo">
                    <img src="assets/home/logo.png" alt="ngô nhật trường calligraphy" class="logo-image">
                </div>
                <h1>ngô nhật trường</h1>
                <p class="tagline">người làm phim, làm vườn, viết và sắp đặt không gian.</p>
            </div>

            <nav class="navigation">
                <ul>
                    <li><a href="#home">trang chủ</a></li>
                    <li><a href="#about">về tôi</a></li>
                    <li><a href="#films">phim</a></li>
                    <li><a href="#paintings">tranh</a></li>
                    <li><a href="#poets">thơ</a></li>
                    <li><a href="#music">nhạc</a></li>
                    <li><a href="#space">không gian</a></li>
                    <li><a href="#contact">liên hệ</a></li>
                </ul>
            </nav>
        </header>

        <main class="content">
            <section id="home" class="section section-active">
                <div class="hero-slider">
                    <div class="slides-container">
                        <img src="assets/home/home-image/home-image-1.jpeg" class="slide active" alt="không gian 1">
                        <img src="assets/home/home-image/home-image-2.jpeg" class="slide" alt="không gian 2">
                    </div>
                    <button class="nav-btn prev" onclick="changeSlide(-1)">&#10094;</button>
                    <button class="nav-btn next" onclick="changeSlide(1)">&#10095;</button>
                </div>
                
                <div class="intro-text">
                    <p>Chào mừng bạn đến với góc nhỏ của Trường. Nơi lưu giữ những lát cắt của cuộc sống qua ống kính, nét vẽ và những khoảng lặng trong không gian sống.</p>
                </div>
            </section>

            <div id="dynamic-display"></div>
        </main>

        <footer class="footer">
            <p>© 2026 ngô nhật trường — lưu giữ từng hơi thở</p>
        </footer>
    </div>

    <script src="scripts/about.js"></script>
    <script src="scripts/contact.js"></script>
    <script src="scripts/films.js"></script>
    <script src="scripts/painting.js"></script>
    <script src="scripts/poetry.js"></script>
    <script src="scripts/music.js"></script>
    <script src="scripts/spaces.js"></script>

    <script>
        // --- A. XỬ LÝ MÀN HÌNH CHÀO (INTRO SCREEN) ---
        // (Đây là phần bạn vừa hỏi - đặt ở đầu script để chạy trước)
        document.addEventListener('DOMContentLoaded', () => {
            const introScreen = document.getElementById('intro-screen');
            
            if (introScreen) {
                introScreen.addEventListener('click', function() {
                    this.classList.add('hidden');
                    
                    setTimeout(() => {
                        this.remove();
                    }, 1000); 
                });
            }
        });

        // --- B. LOGIC CHO SLIDER (TRANG CHỦ) ---
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');

        function changeSlide(direction) {
            if(slides.length === 0) return; // Kiểm tra an toàn

            slides[currentSlide].classList.remove('active');
            currentSlide += direction;

            if (currentSlide >= slides.length) currentSlide = 0;
            if (currentSlide < 0) currentSlide = slides.length - 1;

            slides[currentSlide].classList.add('active');
        }

        // --- C. LOGIC MENU & NỘI DUNG ĐỘNG (DATA MAPPING) ---
        const dataMapping = {
            'about': (typeof aboutData !== 'undefined') ? aboutData : null,
            'films': (typeof filmsData !== 'undefined') ? filmsData : null,
            'paintings': (typeof paintingsData !== 'undefined') ? paintingsData : null,
            'poets': (typeof poetryData !== 'undefined') ? poetryData : null,
            'music': (typeof musicData !== 'undefined') ? musicData : null,
            'space': (typeof spacesData !== 'undefined') ? spacesData : null,
            'contact': (typeof contactData !== 'undefined') ? contactData : null
        };

        const navLinks = document.querySelectorAll('.navigation a');
        const sections = document.querySelectorAll('.section');
        const dynamicDisplay = document.getElementById('dynamic-display');

        navLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault(); 
                const targetId = this.getAttribute('href').substring(1);
                switchSection(targetId);
            });
        });

        function switchSection(targetId) {
            sections.forEach(sec => sec.classList.remove('section-active'));

            if (dynamicDisplay) {
                dynamicDisplay.innerHTML = '';
                dynamicDisplay.classList.remove('section-active');
            }

            const staticSection = document.getElementById(targetId);

            if (staticSection) {
                staticSection.classList.add('section-active');
            } else if (dataMapping[targetId]) {
                renderDynamicPage(dataMapping[targetId]);
                if (dynamicDisplay) {
                    dynamicDisplay.classList.add('section', 'section-active');
                }
            }
        }

        function renderDynamicPage(data) {
            if (!data || !dynamicDisplay) return;

            let htmlContent = `
                <div class="dynamic-content fade-in">
                    <h2>${data.title}</h2>
                    <p class="dynamic-desc">${data.description}</p>
                    <div class="items-list">
            `;

            if (data.items && data.items.length > 0) {
                data.items.forEach(item => {
                    htmlContent += `
                        <div class="item-card">
                            <div class="item-header">
                                <span class="item-title">${item.title || ''}</span>
                                ${item.date ? `<span class="item-date"> — ${item.date}</span>` : ''}
                            </div>
                            <div class="item-body">
                                ${item.excerpt ? `<p>${item.excerpt}</p>` : ''}
                                ${item.content ? `<div style="white-space: pre-line; margin-top:10px;">${item.content}</div>` : ''}
                            </div>
                        </div>
                    `;
                });
            } else {
                htmlContent += `<p><em>(Nội dung đang được cập nhật...)</em></p>`;
            }

            htmlContent += `</div></div>`;
            dynamicDisplay.innerHTML = htmlContent;
        }
    </script>
</body>
</html>